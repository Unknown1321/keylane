<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style/settings.css">

    <!-- Include your other stylesheets or scripts if needed -->
    <title>Settings</title>
</head>
<body>
    <div id="navbar"></div>

    <div class="settings">
        <div class="settingsWrapper">
            <div class="settingsTitle">
                <span class="settingsUpdateTitle">Update Your Account</span>
            </div>
            <form class="settingsForm" onsubmit="handleSubmit(event)">
                <label>Username</label>
                <input
                    type="text"
                    placeholder="{user.username}"
                    onchange="setUsername(event.target.value)"
                />
                <label>Email</label>
                <input
                    type="email"
                    placeholder="{user.email}"
                    onchange="setEmail(event.target.value)"
                />
                <label>Password</label>
                <input
                    type="password"
                    onchange="setPassword(event.target.value)"
                />
                <button class="settingsSubmit" type="submit">Update</button>
                <span
                    style="color: green; text-align: center; margin-top: 20px; display: {success ? 'block' : 'none'}"
                >
                    Profile has been updated...
                </span>
            </form>
        </div>
        
        <script>
            const setUsername = (value) => setUsername(value);
            const setEmail = (value) => setEmail(value);
            const setPassword = (value) => setPassword(value);

            const handleSubmit = async (e) => {
                e.preventDefault();
                // Assuming you have a function to handle form submission in an external script
                handleFormSubmit();
            };
        </script>
        <script src="/pages/main.js"></script>
    </div>
</body>
</html>
